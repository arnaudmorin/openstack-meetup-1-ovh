<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/ovh.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
                <section data-markdown data-background="#fff">
                    # OpenStack
                    #### Vers l'infini et l'au delà
                    ![OVH](data/logo-ovh-avec-150DPI.png)
                </section>
                <section>
				    <section data-markdown>
                        ## Qui sommes nous ?
                    </section>
                    <section data-markdown>
                        ## Pierre
                        ![Pierre](data/pierre.jpg)
                    </section>
                    <section data-markdown>
                        ## Arnaud
                        ![Arnaud](data/arnaud.jpg)
                    </section>
                </section>
                <section>
                    <section data-markdown>
                        ## Que fait-on ?
                    </section>
                    <section data-markdown>
                        ### Public Cloud
                    </section>
                    <section data-markdown>
                        ### VPS
                    </section>
                    <section data-markdown data-background="data/nerds2.gif">
                        # OpenStack
                        ![OpenStack](data/openstack_logo.png)
                    </section>
                </section>
                <section data-markdown>
                    ## Architecture classique
                    image
                </section>
                <section>
                    <h2>Scale</h2>
                    <ol>
                        <li>Jusqu'à combien ?</li>
                        <li class="fragment">Pourquoi ?</li>
                        <li class="fragment">Comment ?</li>
                    </ol>
                </section>
                <section>
                    <section data-markdown data-background="data/rabbit.gif">
                        ## RabbitMQ
                    </section>
                    <section data-markdown>
                        ### Cluster
                        * minimum 3 noeuds
                    </section>
                    <section data-markdown>
                        ### Tuning de conf
                        * pause_minority VS autoheal
                        * sysctl
                    </section>
                    <section data-markdown>
                        ### Context switching</li>
                        * + de 150k
                        * sélection de 2 serveurs sur les 3
                    </section>
                    <section data-markdown>
                        ### Très sensible
                        * latence
                        * loss
                    </section>
                </section>
                <section>
                    <section data-markdown data-background="data/dolphin.gif">
                        ## MySQL
                    </section>
                    <section data-markdown>
                        ### Cluster Galera
                        * minimum 3 noeuds
                    </section>
                    <section data-markdown>
                        ### Pas de HA proxy
                        * Mauvaise expérience
                        * Performances ?
                        * En cas de problème
                            * mécanisme custom
                            * désactivation des serveurs connectés
                    </section>
                    <section data-markdown>
                        ### Deadlocks ?
                        * Noeud dédié aux ecritures
                    </section>
                    <section data-markdown>
                        ### Long running requests
                        * Ralentissent les APIs
                        * Il faut les logger
                        * Souvent due a la taille des index
                            * Purge de temps en temps
                    </section>
                </section>
                <section>
                    <section data-markdown data-background="data/nova.gif">
                        ## Nova
                    </section>
                    <section data-markdown>
                        ### Nova API
                        * scale assez facile
                        * multiplication des backends
                    </section>
                    <section data-markdown>
                        ### Nova custom scheduler
                        * stack (versus spread)
                            * race condition quand on scale
                        * 1 host = 1 flavor
                    </section>
                    <section data-markdown>
                        ### Nova compute
                        * déconnexion de rabbitmq
                            * pas toujours de reconnexion auto
                            * robot
                    </section>
                </section>
                <section>
                    <section data-markdown data-background="data/neutron.gif">
                        ## Neutron
                    </section>
                    <section data-markdown>
                        ### Architecture standard
                        schéma
                    </section>
                    <section data-markdown>
                        ### Architecture OVH
                        schéma
                    </section>
                    <section data-markdown>
                        ### Points forts
                        * pas de SPOF
                            * tous les hosts font du routage
                            * pas de neutron l3 agent
                        * moins complexe
                        * pas de NAT
                    </section>
                    <section data-markdown>
                        ### Points faibles
                        * pas de NAT
                        * pas de floating IP
                            * IP Fail Over
                        * /32 dans la VM (/128 pour IPv6)
                    </section>
                </section>
                <section>
                    <section data-markdown data-background="data/todo.gif">
                        ## Autres
                    </section>
                </section>
                <section>
                    <section data-markdown data-background="data/python2.gif">
                        ## Python
                    </section>
                    <section data-markdown>
                        * multithread
                            * GIL
                            * eventlet (debug difficile)
                        * multiprocess
                            * tuning workers
                            * memory leak
                    </section>
                </section>
                <section>
                    <section data-markdown data-background="data/robots.gif">
                        ## Automatisation
                    </section>
                    <section data-markdown>
                        ## Puppet
                    </section>
                </section>
                <section data-markdown>
                    * monitoring
                    * design to fail
                    * crashtest
                    * integration continue
                    * prodding chaque semaine
                </section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
